{"ast":null,"code":"import{createContext,useContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export function AuthProvider(_ref){let{children}=_ref;const[user,setUser]=useState(()=>{const u=localStorage.getItem('user');return u?JSON.parse(u):null;});const login=(user,token)=>{setUser(user);localStorage.setItem('user',JSON.stringify(user));localStorage.setItem('token',token);};const logout=()=>{setUser(null);localStorage.removeItem('user');localStorage.removeItem('token');};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,login,logout},children:children});}export function useAuth(){return useContext(AuthContext);}","map":{"version":3,"names":["createContext","useContext","useState","jsx","_jsx","AuthContext","AuthProvider","_ref","children","user","setUser","u","localStorage","getItem","JSON","parse","login","token","setItem","stringify","logout","removeItem","Provider","value","useAuth"],"sources":["/root/PesonaAI/src/contexts/AuthContext.js"],"sourcesContent":["import { createContext, useContext, useState } from 'react';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(() => {\n    const u = localStorage.getItem('user');\n    return u ? JSON.parse(u) : null;\n  });\n\n  const login = (user, token) => {\n    setUser(user);\n    localStorage.setItem('user', JSON.stringify(user));\n    localStorage.setItem('token', token);\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  return useContext(AuthContext);\n} "],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAM,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAM,CACrC,KAAM,CAAAS,CAAC,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACtC,MAAO,CAAAF,CAAC,CAAGG,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAC,CAAG,IAAI,CACjC,CAAC,CAAC,CAEF,KAAM,CAAAK,KAAK,CAAGA,CAACP,IAAI,CAAEQ,KAAK,GAAK,CAC7BP,OAAO,CAACD,IAAI,CAAC,CACbG,YAAY,CAACM,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACK,SAAS,CAACV,IAAI,CAAC,CAAC,CAClDG,YAAY,CAACM,OAAO,CAAC,OAAO,CAAED,KAAK,CAAC,CACtC,CAAC,CAED,KAAM,CAAAG,MAAM,CAAGA,CAAA,GAAM,CACnBV,OAAO,CAAC,IAAI,CAAC,CACbE,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC,CAC/BT,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CAClC,CAAC,CAED,mBACEjB,IAAA,CAACC,WAAW,CAACiB,QAAQ,EAACC,KAAK,CAAE,CAAEd,IAAI,CAAEO,KAAK,CAAEI,MAAO,CAAE,CAAAZ,QAAA,CAClDA,QAAQ,CACW,CAAC,CAE3B,CAEA,MAAO,SAAS,CAAAgB,OAAOA,CAAA,CAAG,CACxB,MAAO,CAAAvB,UAAU,CAACI,WAAW,CAAC,CAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}