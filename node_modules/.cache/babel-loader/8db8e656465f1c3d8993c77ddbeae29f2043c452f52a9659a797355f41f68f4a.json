{"ast":null,"code":"import _objectSpread from\"/root/PesonaAI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{apiFetch}from'../api/api';import{useAuth}from'../contexts/AuthContext';import Toast from'./Toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignupForm(_ref){let{onSwitch}=_ref;const{login}=useAuth();const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[toast,setToast]=useState(null);const handleSubmit=async e=>{e.preventDefault();try{const{user,token}=await apiFetch('/auth/register',{method:'POST',body:JSON.stringify({name,email,password})});login(user,token);}catch(err){setToast({message:err.message,type:'error'});}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"max-w-sm mx-auto mt-16 p-6 bg-white rounded shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl mb-4\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full mb-2 p-2 border rounded\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full mb-2 p-2 border rounded\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full mb-4 p-2 border rounded\",type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-blue-600 text-white py-2 rounded\",type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center\",children:[\"Sudah punya akun? \",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-blue-600 underline\",onClick:onSwitch,children:\"Login\"})]}),/*#__PURE__*/_jsx(Toast,_objectSpread(_objectSpread({},toast),{},{onClose:()=>setToast(null)}))]});}","map":{"version":3,"names":["useState","apiFetch","useAuth","Toast","jsx","_jsx","jsxs","_jsxs","SignupForm","_ref","onSwitch","login","name","setName","email","setEmail","password","setPassword","toast","setToast","handleSubmit","e","preventDefault","user","token","method","body","JSON","stringify","err","message","type","onSubmit","className","children","placeholder","value","onChange","target","onClick","_objectSpread","onClose"],"sources":["/root/PesonaAI/src/components/SignupForm.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { apiFetch } from '../api/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport Toast from './Toast';\n\nexport default function SignupForm({ onSwitch }) {\n  const { login } = useAuth();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [toast, setToast] = useState(null);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const { user, token } = await apiFetch('/auth/register', {\n        method: 'POST',\n        body: JSON.stringify({ name, email, password }),\n      });\n      login(user, token);\n    } catch (err) {\n      setToast({ message: err.message, type: 'error' });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"max-w-sm mx-auto mt-16 p-6 bg-white rounded shadow\">\n      <h2 className=\"text-2xl mb-4\">Sign Up</h2>\n      <input className=\"w-full mb-2 p-2 border rounded\" placeholder=\"Name\" value={name} onChange={e => setName(e.target.value)} />\n      <input className=\"w-full mb-2 p-2 border rounded\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} />\n      <input className=\"w-full mb-4 p-2 border rounded\" type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)} />\n      <button className=\"w-full bg-blue-600 text-white py-2 rounded\" type=\"submit\">Sign Up</button>\n      <div className=\"mt-4 text-center\">\n        Sudah punya akun? <button type=\"button\" className=\"text-blue-600 underline\" onClick={onSwitch}>Login</button>\n      </div>\n      <Toast {...toast} onClose={() => setToast(null)} />\n    </form>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}